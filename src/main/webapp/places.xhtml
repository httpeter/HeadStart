<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"      
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui">

    <h:head>               
        <ui:include src="included/head.xhtml"/>
        <title>#{labels.appTitle} - #{labels.organizationName}</title>
    </h:head>

    <h:body>

        <h:form style="background-image: url('https://cdn.shopify.com/s/files/1/0282/3392/4740/files/matterh_1200x.jpg'); background-size: cover; background-repeat: no-repeat">

            <ui:include src="included/menu.xhtml"/>        



            <p:panel>
                <h3>Timeline</h3>
                <ui:include src="included/placesTimeline.xhtml"/>
            </p:panel>


            <ui:repeat value="#{placesController.places}" var="place">


                <p:panel style="width:800px; align-self: center">

                    <h:panelGrid columns="3">
                        <h3>#{place.name}</h3>                                            
                        <p:spacer width="25"/>                        
                        <p:rating value="#{place.rating}" readonly="true"/>

                        <p:graphicImage url="#{place.imgurls}" width="300"/>                                                                                                  
                        <p:spacer width="25"/>
                        <h:outputText value="#{place.description}"/>                        

                        <p:spacer width="25"/>
                        <p:spacer width="25"/>
                        <p:spacer width="25"/>
                    </h:panelGrid>

                </p:panel>




            </ui:repeat>






            <p:outputPanel id="adminPanel" 
                           rendered="#{sessionController.currentUser.role=='admin'}"
                           styleClass="myMobileMenuButton">

                <p:commandButton id="addButton" value="Add"/>

                <p:overlayPanel for="addButton">

                    <h:panelGrid columns="2">

                        <p:outputLabel value="Name"/> 
                        <p:inputText id="name"/>

                        <p:outputLabel for="msg" value="Message" /> 
                        <p:inputTextarea id="msg" />

                        <h:outputText/>
                        <p:commandButton value="Send" />

                    </h:panelGrid>        

                </p:overlayPanel> 

            </p:outputPanel>

        </h:form>

    </h:body>

</html>