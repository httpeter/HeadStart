<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <p:growl>
        <p:autoUpdate/>
    </p:growl>


    <p:megaMenu autoDisplay="false" style="background: none; border: none;">

        <p:submenu label="Experiments" 
                   icon="fa fa-flask" 
                   rendered="#{sessionController.currentUser.role == 'admin'}">
            <p:column>
                <p:submenu label="Various" icon="pi pi-home">

                    <p:menuitem value="#{labels.menuItemFoodMoment}" 
                                icon="pi pi-apple"
                                url="foodMoment.html"/>

<!--                    <p:menuitem value="#{labels.menuItemNotes}" 
                                icon="pi pi-file-o"
                                url="notes.html"/>-->

                    <p:menuitem value="#{labels.menuItemComponents}" 
                                icon="fa fa-th"
                                url="components.html"/>   

                    <p:menuitem value="#{labels.menuItemPlaces}" 
                                icon="fa fa-globe"
                                url="places.html"/>

                    <p:menuitem value="#{labels.menuItemImpactMap}" 
                                icon="pi pi-sitemap"
                                url="impactMap.html"/>

                    <p:menuitem value="#{labels.menuItemRemarkable}" 
                                icon="pi pi-table"
                                url="remarkable.html"/>

                    <p:menuitem value="#{labels.menuItemCRM}" 
                                icon="pi pi-users"
                                url="index.html"/>

                </p:submenu>

            </p:column>
        </p:submenu>        

        <p:submenu label="Account" icon="pi pi-user-edit">
            <p:column> 

                <p:submenu>                   

                    <p:menuitem>
                        <p:avatar label="#{sessionController.currentUser.firstname.substring(0,1)} "
                                  shape="circle"/>                        
                        <h:outputText value="#{sessionController.currentUser.firstname}  #{sessionController.currentUser.lastname}"/>
                    </p:menuitem>

                </p:submenu>

                <p:submenu>                   

                    <p:menuitem value="#{labels.menuItemAdmin}" 
                                disabled="#{sessionController.currentUser.role!= 'admin'}"
                                icon="fa fa-gear"
                                url="admin.html"/> 

                    <p:menuitem  value="Logout"                      
                                 disabled="#{sessionController.currentUser==null}"                    
                                 icon="pi pi-lock"
                                 url="login.html"/>


                </p:submenu>

            </p:column>
        </p:submenu>

    </p:megaMenu>

    <!--Do not remove!-->
    <h:outputText value="#{sessionController.redirectToLogin}"/>   



</ui:composition>