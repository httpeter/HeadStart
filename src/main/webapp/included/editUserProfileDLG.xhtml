<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">


    <p:dialog header="#{sessionController.currentUser.firstname} #{sessionController.currentUser.lastname}"
              modal="true" 
              widgetVar="editUserProfileDLG"
              width="400"              
              fitViewport="true"
              closeOnEscape="true"
              dynamic="true"
              minHeight="200"
              height="800">

        <p:panelGrid columns="2" layout="grid">

            <h:outputText value="#{labels.firstName} *"/>
            <p:inputText value="#{sessionController.currentUser.firstname}"
                         style="width:100%"/>    

            <h:outputText value="#{labels.lastName} *"/>
            <p:inputText value="#{sessionController.currentUser.lastname}"
                         style="width:100%"/>    

            <h:outputText value="#{labels.email} *"/>
            <p:inputText value="#{sessionController.currentUser.email}"
                         style="width:100%"/>    

            <h:outputText value="#{labels.password} *"/>
            <p:password value="#{sessionController.currentUser.pwdhash}"
                        style="width:100%"
                        feedback="true"/>                                       

            <h:outputText value="#{labels.homeAddress} *"/>
            <p:inputTextarea value="#{sessionController.currentUser.homeaddress}"
                             style="width:100%"/>

            <h:outputText value="#{labels.homeAddressLattitude} *"/>
            <p:inputText value="#{sessionController.currentUser.homeaddresslattitude}"
                         style="width:100%"/>

            <h:outputText value="#{labels.homeAddressLongitude} *"/>
            <p:inputText value="#{sessionController.currentUser.homeaddresslongitude}"
                         style="width:100%"/>

            <h:outputText value="#{labels.homeCountry} *"/>
            <p:inputText value="#{sessionController.currentUser.country}"
                         style="width:100%"/>

            <h:outputText value="#{labels.vacationDays} *"/>            
            <h:panelGrid>
                <p:inputText id="vacationDaysInput" 
                             value="#{sessionController.currentUser.vacationdays}"
                             style="width:100%"/>
                <p:slider for="vacationDaysInput"/>
            </h:panelGrid>

            <p:commandButton icon="fa fa-save"
                             value="Save"
                             action="#{sessionController.saveCurrentUser()}" 
                             oncomplete="PF('editUserProfileDLG').hide();"
                             update="@form"/>                               
            <p:commandButton icon="fa fa-ban" 
                             value="Cancel"
                             onclick="PF('editUserProfileDLG').hide();"/>  

            <h:outputText/>
            <p:commandButton icon="fa fa-ban" 
                             value="Delete"
                             onclick="PF('editUserProfileDLG').hide();"
                             disabled="true"/>  

        </p:panelGrid>



    </p:dialog>

</ui:composition>