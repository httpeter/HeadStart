<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"      
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui">








    <f:loadBundle basename="#{sessionController.labelFile}" var="labels"/>







    <h:head>

        <ui:include src="composition/analytics.xhtml"/>

        <link rel="shortcut icon" 
              href="resources/img/favicon.ico" 
              type="image/x-icon"/>

        <meta name="viewport" 
              content="width=device-width, user-scalable=no"/>

        <meta name="mobile-web-app-capable" 
              content="yes"/>

        <link href="resources/css/main.css" 
              rel="stylesheet" 
              type="text/css "/>             
          
        <script type="text/javascript" src="https://maps.google.com/maps/api/js?key=AIzaSyAA2Io6jfjW_Q_HxVuQnZqqKxQvbBLbHPs" async="true" defer="true"></script> 
      
        <title>#{labels.appTitle} - #{labels.organizationName}</title>


    </h:head>






    <h:body styleClass="myBody">     

        <h:form id="mainForm" styleClass="myForm">            

            <p:sticky target="menu"/>

            <p:growl id="growl"/>

            <!--Normal Menu, must be filled dynamically-->
            <p:megaMenu id="menu">
                <p:menuitem value="#{labels.menuItemHome}" 
                            icon="fa fa-home"
                            url="?p=home"/>
                <p:menuitem value="#{labels.menuItemNotify}" 
                            icon="fa fa-star"
                            url="?p=notify"/>
                <p:menuitem value="#{labels.menuItemComponents}" 
                            icon="fa fa-th"
                            url="?p=components"/>
            </p:megaMenu>

            <div align="right">
                <!--Mobile Menu, must be filled dynamically-->
                <p:menuButton id="menuMobile" 
                              icon="fa fa-bars" 
                              styleClass="myMobileMenuButton">
                    <p:menuitem value="#{labels.menuItemHome}" 
                                icon="fa fa-home"
                                url="?p=home"/>
                    <p:menuitem value="#{labels.menuItemNotify}" 
                                icon="fa fa-star"
                                url="?p=notify"/>
                    <p:menuitem value="#{labels.menuItemComponents}" 
                                icon="fa fa-th"
                                url="?p=components"/>
                </p:menuButton>
            </div>

            <p:spacer/>




            <p:outputPanel id="currentComposition">
                <ui:include src="#{indexController.currentComposition}"/>
            </p:outputPanel>







            <p:idleMonitor timeout="#{session.maxInactiveInterval*900}"  
                           onidle="window.location.reload();"/>



        </h:form>


    </h:body>
    
   
</html>

